grumphp:
  hide_circumvention_tip: true
  stop_on_failure: true
  ignore_unstaged_changes: true
  environment:
    files:
      - .env
  tasks:
    # Rector check (dry-run mode)
    rector:
      no_diffs: true
      clear_cache: false

#    # PHPMD (PHP Mess Detector)
#    phpmd: ~
#
#    # PHPStan
#    phpstan:
#      configuration: phpstan.neon
#      memory_limit: "-1"

    # Composer validation checks
    composer: ~
    securitychecker_composeraudit: ~
    composer_validate_autoload: ~

    # Custom pre-commit script to run all checks
    composer_script:
        script: pre-commit-all
